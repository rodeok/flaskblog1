{% extends "base.html" %}

{% block head %}
<title>Posts</title>
{% endblock %}


{% block body %}
<h1>All Posts </h1>

<hr>
<h2>Create New Blog Post:</h2>
<form action='/posts' method='POST'>
    <label for="title">Title:</label>
    <input class="form-control" type="text" name='title' id='title' placeholder="Enter Title" aria-label="Enter Title">
    <br>
    <label for="author">Author:</label>
    <input class="form-control" type="text" name='author' id='author' placeholder="Enter Author" aria-label="Enter Author">
    <br>
    <label for="content">Post:</label>
    <textarea class="form-control" name='content' id="content" placeholder="Enter Content" aria-label="Enter Content" rows="3"></textarea>
    <br>
    <input type='submit' value='Post' class="btn btn-primary">
</form>
<hr>
{% for post in posts %}
<h2>{{ post.title}}</h2>

{% if post.author %}
<!-- <h3>By: {{ post.author}}</h3> -->
<small>
    Written By {{post.author}} on {{ post.date_posted}}
</small>
{% else %}
<h3>By: No N/A</h3>
{% endif %}
<p>{{post.content}}</p>
<a href="/posts/delete/{{post.id}}" class="btn btn-danger">Delete</a>
<a href="/posts/edit/{{post.id}}" class="btn btn-primary">Edit</a>
<hr>
{% endfor %}
{% endblock %}